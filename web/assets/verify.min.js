var doneMap={check1:0,check2:0,check3:0,check4:0};function updatePercentage(){var percentage=0;for(var i=1;i<=4;i++){if(doneMap["check"+i]===1){percentage+=25;}}if(percentage===0){return;}var $progressBar=$("#progress").find(".progress-bar");$progressBar.html(percentage+"%");$progressBar.css({width:percentage+"%"});if(percentage===100){$progressBar.addClass("bg-success");}}function check1(){var timer=setInterval(function(){if(!conn||(conn.readyState&&conn.readyState===3)){return;}if(conn.readyState&&conn.readyState===1){clearInterval(timer);tick(0);}},1000);}function check2(){wsHook.before=function(data,url){if(url==="ws://localhost:1338/"){tick(1);}return data;};}function check3(){var timer=setInterval(function(){if(conn&&conn.readyState===1&&$.trim($("div#messages").html())!=="There are no messages yet..."){tick(2);clearInterval(timer);}},0.1);}function check4(){var timer=setInterval(function(){if(!conn){return;}conn.onclose=function(){tick(3);};clearInterval(timer);},1000);}function tick(num){if(isNaN(num)){return;}doneMap["check"+(num+1)]=1;updatePercentage();$(".list-group-item").eq(num).removeClass("list-group-item-danger").addClass("list-group-item-success");}check1();check2();check3();check4();